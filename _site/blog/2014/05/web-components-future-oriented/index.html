<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Web Components - 面向未来的组件标准_FEX_做最专业的前端_百度前端研发部_百度前端团队Blog" />
    <meta name="keywords" content="Web Components - 面向未来的组件标准,百度前端团队,FEX,百度FEX,百度前端,fex,百度前端研发,fis,前端模块化,前端工程,富应用开发,html5上传,前端数据监控,性能优化,web performance,编辑器,ueditor" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://fex.baidu.com/feed.xml">
    <title>Web Components - 面向未来的组件标准 FEX 做最专业的前端</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="baidu-site-verification" content="bUyKbVcNh2" />
    <link rel="stylesheet" href="/public/css/normalize.css">
    <link rel="stylesheet" href="/public/css/base.css">
    <link rel="stylesheet" href="/public/css/fextm.css">
</head>
<body>
<!--[if lt IE 8]>
<p class="browsehappy">您使用的浏览器版本<strong>过老</strong>，请<a href="http://browsehappy.com/">使用最新的浏览器</a>来提升浏览体验。</p>
<![endif]-->
<div class="page-header">
    <a href="/"><div class="logo"></div></a>
    <ul class="page-nav page-navi-articles">
        <li><a href="/">首页</a></li>
        <li><a href="/articles/">技术</a></li>
        <li><a href="/code.html">开源</a></li>
        <!-- <li><a href="/team.html">团队</a></li> -->
        <li><a href="/we-need-you/" target="_blank">我们需要你</a></li>
        <li><a href="https://github.com/fex-team/" target="_blank">Github</a></li>
        <li><a href="https://speakerdeck.com/baidufe" target="_blank">Slides</a></li>
    </ul>
    <a class="rss" target="_blank" href="http://fex.baidu.com/feed.xml"></a>
</div>




<link rel="stylesheet" href="/public/css/synatx.css">

<div class="container">
    <article>
        <div class="article-info">
        
            
        
            
        
            
        
            
        
            
                <img src="/img/avatar/miller.png" onerror="/img/avatar/fex.png" />
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            <h1 class="title">Web Components - 面向未来的组件标准</h1>
            <div class="author">miller | 04 May 2014</div>
        </div>

        <div class="content">
        <blockquote>
<p>首先需要说明的是这不是一篇 Web Components 的科普文章，如果对此了解不多推荐先读<a href="http://css-tricks.com/modular-future-web-components/">《A Guide to Web Components》</a>。有句古话-“授人以鱼，不如授人以渔”，如果把组件比作“鱼”的话，对于前端开发者而言，W3C组织制定的HTML标准以及浏览器厂商的实现都是“鱼”而不是“渔”，开发者在需求无法满足的情况下通过现有技术创造了各种组件，虽然短期满足了需求但是由于严重缺乏标准，导致同一个组件有成千上万的相似实现但它们却无法相互重用，这很大程度上制约了组件化的最大价值-重用，Web Components则在组件标准化方面向前迈了一大步。</p>
</blockquote>

<h2>现状与困境</h2>

<p>组件化给前端开发带来了极大的效率提升，组件化的UI框架也因此层出不穷，从<a href="http://extjs.com">EXTJs</a>、<a href="https://yuilibrary.com/">YUI</a>到 <a href="http://jqueryui.com/">jQuery UI</a> ，再到 <a href="http://getbootstrap.com/">Bootstrap</a>、<a href="http://facebook.github.io/react/">React</a>、<a href="http://goratchet.com">Ratchet</a>、<a href="ionicframework.com">Ionic</a>等等等等等等，几乎每年都有很多新的UI框架冒出来，它们或者借鉴或者颠覆其他已存在的框架。简单对比一下就会发现这些框架的很大一部分模块在功能上是重合的，但也仅仅在功能层面重合，代码层面确完全不兼容。</p>

<p>接下来选择 jQuery UI、<a href="http://kendoui.com">KendoUI</a> 以及 Bootstrap 中的<code>Dialog</code>组件从初始化、方法调用以及事件响应方面进行简单的对比。</p>

<p><strong>jQuery UI</strong></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// 初始化</span>
<span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#dialog&quot;</span> <span class="p">).</span><span class="nx">dialog</span><span class="p">({</span>
  <span class="nx">dialogClass</span><span class="o">:</span> <span class="s2">&quot;no-close&quot;</span>
<span class="p">});</span>

<span class="c1">// 显示</span>
<span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;.selector&quot;</span> <span class="p">).</span><span class="nx">dialog</span><span class="p">({</span> <span class="nx">show</span><span class="o">:</span> <span class="p">{</span> <span class="nx">effect</span><span class="o">:</span> <span class="s2">&quot;blind&quot;</span><span class="p">,</span> <span class="nx">duration</span><span class="o">:</span> <span class="mi">800</span> <span class="p">}</span> <span class="p">});</span>

<span class="c1">// 关闭事件</span>
<span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;.selector&quot;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s2">&quot;dialogclose&quot;</span><span class="p">,</span>  <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">ui</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// do something...</span>
<span class="p">});</span>
</code></pre></div>
<p><strong>Kendo UI</strong></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// 初始化</span>
<span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#dialog&quot;</span><span class="p">).</span><span class="nx">kendoWindow</span><span class="p">({</span>
  <span class="nx">actions</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Minimize&quot;</span><span class="p">,</span> <span class="s2">&quot;Maximize&quot;</span> <span class="p">]</span>
<span class="p">});</span>

<span class="c1">// 显示</span>
<span class="kd">var</span> <span class="nx">dialog</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#dialog&quot;</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">&quot;kendoWindow&quot;</span><span class="p">);</span>
<span class="nx">dialog</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>

<span class="c1">// 关闭事件</span>
<span class="kd">var</span> <span class="nx">dialog</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#dialog&quot;</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">&quot;kendoWindow&quot;</span><span class="p">);</span>
<span class="nx">dialog</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;close&quot;</span><span class="p">,</span>  <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// do something...</span>
<span class="p">});</span>
</code></pre></div>
<p><strong>Bootstrap</strong></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// 初始化</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#myModal&#39;</span><span class="p">).</span><span class="nx">modal</span><span class="p">({</span>
    <span class="nx">keyboard</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">});</span>

<span class="c1">// 显示</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#myModal&#39;</span><span class="p">).</span><span class="nx">modal</span><span class="p">(</span><span class="s1">&#39;show&#39;</span><span class="p">);</span>

<span class="c1">// 关闭事件</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#myModal&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;hidden.bs.modal&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// do something...</span>
<span class="p">});</span>
</code></pre></div>
<p>简单对比可以发现，几乎完全相同的功能在接口层面完全不兼容，导致使用者从某个实现切换到另一个实现时需要非常高的成本，这就是目前Web组件化方面无序和缺乏标准的一个写照。</p>

<p>再来看目前浏览器“内置”组件的现状，由标准化组织建立 HTML4、HTML5 等各种标准，浏览器厂商按照标准实现“内置”组件并声称兼容某某标准，开发者遵循标准来使用组件，使得代码可以在不同的浏览器里通过相同的方式来使用组件。</p>

<p>以“内置”组件<code>video</code>来简单示例：</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// 初始化（直接写&lt;video&gt;标签或者通过javascript创建）</span>
<span class="kd">var</span> <span class="nx">video</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;video&#39;</span><span class="p">);</span>

<span class="c1">// 播放</span>
<span class="nx">video</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>

<span class="c1">// 播放事件</span>
<span class="nx">video</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;play&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
   <span class="c1">// do something...</span>
 <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</code></pre></div>
<p>相比使用各种组件框架来说，“内置”组件也是由不同的开发者（浏览器厂商）开发，但是由于遵循了相同的标准使得“内置”组件的使用在跨浏览器方面的成本大幅降低。</p>

<p>综上所述，组件框架目前无序、缺乏标准以及低效复用方面的问题需要通过组件标准化来解决，而Web Components则是标准化的一个很好的选择。</p>

<h2>面向未来的组件标准</h2>

<p>Web Components 的出现给组件标准化带来了很好的契机：</p>

<ul>
<li>WEB组件目前仍然依靠各种类似&quot;Hack&quot;的方式来模拟，模拟方式也各有不同，很难统一和标准化，而 Web Components 则直接提供了标准化的组件定义方式，这是组件标准化的基石，使得未来的组件能够统一创建、方法调用、事件监听、属性访问等。</li>
<li>基于标准化的组件定义方式，我们便可以像W3C等标准组织一样来定义组件标准，无需再依赖、等待“内置”组件，这也使得我们获得了“渔”的能力。</li>
</ul>

<p>以上述的例子为例，未来可能会有一小撮人成立某个组件标准化组织-X，X的职责就是根据WEB组件的使用现状以及潜在的新需求来规范一个组件，包括组件的名称、方法、属性、事件。</p>

<p>例如《Dialog规范1.0》</p>

<blockquote>
<ul>
<li>组件名：x-dialog</li>
<li>属性：title </li>
<li>方法：show hide</li>
<li>事件：hide show</li>
</ul>
</blockquote>

<p>随后出现的UI框架宣称支持《Dialog规范》，但在实现上完全没有制约，可以是完全不同的实现方式、或者更好的性能、更炫的UI，而对于开发者而言，只需要写如下代码即可：</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// 初始化(&lt;x-dialog/&gt;或者如下代码)</span>
<span class="kd">var</span> <span class="nx">dialog</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;x-dialog&#39;</span><span class="p">);</span>

<span class="c1">// 获取和设置title</span>
<span class="kd">var</span> <span class="nx">title</span> <span class="o">=</span> <span class="nx">dialog</span><span class="p">.</span><span class="nx">title</span><span class="p">;</span>
<span class="nx">dialog</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">title</span> <span class="o">+</span> <span class="s1">&#39;-_-&#39;</span><span class="p">;</span>

<span class="c1">// 显示</span>
<span class="nx">dialog</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>

<span class="c1">// 关闭事件</span>
<span class="nx">dialog</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;hide&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something...</span>
<span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</code></pre></div>
<p>当用户不满意某个 Dialog 的实现而需要切换到其他实现版本时只需要引入不同的实现库，而不再需要重构代码。</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">// bootstrap
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;import&quot;</span> <span class="na">href=</span><span class="s">&quot;/components/bootstrap/dialog.html&quot;</span><span class="nt">&gt;</span>

// jQuery UI
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;import&quot;</span> <span class="na">href=</span><span class="s">&quot;/components/jqueryui/dialog.html&quot;</span><span class="nt">&gt;</span>

// Kendo UI
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;import&quot;</span> <span class="na">href=</span><span class="s">&quot;/components/kendoui/dialog.html&quot;</span><span class="nt">&gt;</span>
</code></pre></div>
<h2>跨端的组件标准</h2>

<p><a href="http://weibo.com/zswang">集鹄</a>在<a href="http://fex.baidu.com/blog/2014/05/light-component/">跨端组件实践 - 移动时代的前端</a>一文中提到了跨端组件的概念。</p>

<p>跨端组件的实现同样面临着标准化的问题，Web Components 的标准化只规范接口，而底层的实现是完全自由的，自由到你可以使用 Web 技术来实现也可以使用 Native技术。</p>

<p>同样以 Dialog 为例，开发者可以在 Android 中用 Java 或者在 iOS 中用 Objective C 来开发声称兼容 《Dialog规范1.0》的组件，此时，Web 开发者的那段调用 Dialog 的代码不仅仅在 浏览器环境有效，在 Native 依然有效，而且调用的是 Native 实现，能够获得更为出色的性能。</p>

<h2>总结</h2>

<p>回顾浏览器的发展历史，也曾经历混乱和无序，随着W3C标准化组织的出现这一局面有了翻天覆地的变化，而对于Web组件而言，Web Components 的出现才仅仅是这一变化的开始，随着更为复杂的多端环境的出现，组件标准化还有着更大的想象空间。</p>

        </div>

        <div class="author">
        
            
        
            
        
            
        
            
        
            
                作者：<a href="http://milleris.me/" target="_blank">miller (http://milleris.me/)</a> - The best preparation for tomorrow is doing your best today. <br/>
                <a href="http://milleris.me/" target="_blank"></a> <br/>
                <!-- <a href="/posts/#miller">查看他|她写的全部文章</a>  |   -->
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
        </div>

        <!-- Duoshuo Comment BEGIN -->
<a name="comments"> </a>
<div id="comment">
    <div class="ds-thread" data-title="Web Components - 面向未来的组件标准"></div>
    <script type="text/javascript">
    var duoshuoQuery = {short_name:"fex"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = 'http://static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
        || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
</div>
<!-- Duoshuo Comment END -->

    </article>

    <div class="page-sidebar">
    <!-- <div>
        <img src="/public/images/formula.png" />
    </div> -->

    <ul class="github-projects">
        
            <li><a href="https://github.com/fex-team/fis-plus" target="_blank">FIS - 前端集成解决方案</a></li>
        
            <li><a href="https://github.com/fex-team/kityformula" target="_blank">KityFormula - 公式展现和编辑</a></li>
        
            <li><a href="https://github.com/fex-team/kityminder" target="_blank">KityMinder - 思维导图编辑器</a></li>
        
            <li><a href="https://github.com/fex-team/ufinder" target="_blank">UFinder - 文件管理工具</a></li>
        
            <li><a href="https://github.com/fex-team/ueditor" target="_blank">UEditor - 富文本编辑器</a></li>
        
            <li><a href="https://github.com/fex-team/webuploader" target="_blank">WebUploader - 文件上传组件</a></li>
        
            <li><a href="https://github.com/fex-team/gmu" target="_blank">GMU - 轻量级的移动端UI组件库</a></li>
        
    </ul>

    <div style="text-align:center;margin:30px 0;"><img src="/public/images/erwei.png" /></div>

    <div class="last-comments">
        <!-- 多说最新评论 start -->
        <div class="ds-recent-comments" data-num-items="10" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="70"></div>
        <!-- 多说最新评论 end -->
        <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
        <script type="text/javascript">
        var duoshuoQuery = {short_name:"fex"};
            (function() {
                var ds = document.createElement('script');
                ds.type = 'text/javascript';ds.async = true;
                ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
                ds.charset = 'UTF-8';
                (document.getElementsByTagName('head')[0] 
                 || document.getElementsByTagName('body')[0]).appendChild(ds);
            })();
        </script>
        <!-- 多说公共JS代码 end -->
    </div>
</div>


</div>


<div class="page-footer">
    <div class="foot-inner">
    <dl>
        <dt>友情链接</dt>
        <dd>
            <ul>
                <li><a href="http://mux.baidu.com/" target="_blank">百度 MUX</a></li>
                <li><a href="http://mweb.baidu.com/" target="_blank">百度 MWEB</a></li>
                <li><a href="http://ued.taobao.org/blog/" target="_blank">淘宝 UED</a></li>
                <li><a href="http://www.75team.com/" target="_blank">奇舞团</a></li>
                <li><a href="http://www.w3ctech.com" target="_blank">w3ctech</a></li>
                <li><a href="http://www.alloyteam.com/" target="_blank">腾讯 AlloyTeam</a></li>
                <li><a href="http://isux.tencent.com/" target="_blank">腾讯 ISUX</a></li>
                <li><a href="http://ued.ctrip.com/blog/?cat=11" target="_blank">携程 UED</a></li>
            <ul>
        </dd>
    </dl>

    <dl>
        <dt>我们的项目</dt>
        <dd>
            <ul>
                
                    <li><a href="http://github.com/fex-team/fis-plus/" target="_blank">FIS</a></li>
                
                    <li><a href="http://github.com/fex-team/kityformula/" target="_blank">KityFormula</a></li>
                
                    <li><a href="http://naotu.baidu.com/" target="_blank">KityMinder</a></li>
                
                    <li><a href="http://github.com/fex-team/ufinder/" target="_blank">UFinder</a></li>
                
                    <li><a href="http://github.com/fex-team/ueditor/" target="_blank">UEditor</a></li>
                
                    <li><a href="http://fex.baidu.com/webuploader" target="_blank">WebUploader</a></li>
                
                    <li><a href="http://gmu.baidu.com" target="_blank">GMU</a></li>
                
            <ul>
        </dd>
    </dl>

    <dl>
        <dt>加入我们</dt>
        <dd>
            <p>FEX 是百度「Web 前端研发部」的内部名称，其中 FE 是 Front End 的缩写，X 代表我们不仅关注前端技术，还更重视全端及全栈的能力。</p>

            <p>如果你对这个团队感兴趣，可以<a href="/we-need-you/">【更多了解一下】</a>。</p>
        </dd>
    </dl>
    </div>
</div>



<script>
    var page = "/blog/2014/05/web-components-future-oriented";
</script>
<script type="text/javascript" src="/public/js/fex.alog.monk.js?t=201404171736"></script>


<script type="text/javascript">
    //设置站外链接新页面打开
    var a_list= document.getElementsByTagName("a"); 
    for(var i=0;i<a_list.length;i++){  
        var href = a_list[i].href;
        if( href && String(href).indexOf("fex.baidu.com") < 0 ){  
            a_list[i].target = "_blank";
        }  
    } 
</script>

<script>
var _hmt = _hmt || [];
(function() {
    var domain = document.domain;
    if(domain === "fex.baidu.com") {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?5cfaa6810a02b4f45dc2c55614d98f57";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    }
})();
</script>
</body>
</html>

